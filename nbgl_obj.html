<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Embedded SDK: Advanced BOLOS GL API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Embedded SDK
   </div>
   <div id="projectbrief">Embedded SDK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Embedded SDK</a></li><li class="navelem"><a class="el" href="nbgl_mainpage.html">New BOLOS Graphic API for Stax/Flex</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Advanced BOLOS GL API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="nbgl_api_intro"></a>
Introduction</h1>
<p>This chapter describes briefly the main interface functions of NBGL Graphical Engine. A full description of each function can be found in this document</p>
<h1><a class="anchor" id="concepts"></a>
Concepts</h1>
<p>In this section, we provide information on how to use NBGL API</p>
<h2><a class="anchor" id="obj_hierarchy"></a>
Graphic objects hierarchy</h2>
<div class="plantumlgraph">
<img src="inline_umlgraph_1.png" />
</div>
<div class="plantumlgraph">
<img src="inline_umlgraph_2.png" />
</div>
<h2><a class="anchor" id="create_objects"></a>
Creating graphic objects</h2>
<p>Graphic objects cannot be created dynamically so they must be statically declared.</p>
<p>There must be at least as many declared objects as objects presented on a given screen. But objects can be reused in another screen, as long as they are properly set.</p>
<p>For example, if a "Back" button is present in many different screens of the application, it can be reused, the only change being the touch callback.</p>
<p>For all objects, its <b>type</b> field must be explicitly specified, even if it seems redundant with the nbgl_&lt;type&gt;_t.</p>
<p>For example:</p>
<div class="fragment"><div class="line"><a class="code" href="nbgl__obj_8h.html#a95df0ebba3018a2d0eaa47d962259c4b">nbgl_button_t</a> backButton = {</div>
<div class="line">    .type = <a class="code" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7a7d67f007544f534278ecca3cdca12565">BUTTON</a>,                           <span class="comment">// Type of object, MANDATORY</span></div>
<div class="line">    .innerColor = <a class="code" href="nbgl__types_8h.html#a0a8ef1b5e1941b7257e545cc33405ff1a283fc479650da98250635b9c3c0e7e50">WHITE</a>,                      <span class="comment">// Color used inside of the button, MANDATORY</span></div>
<div class="line">    .borderColor = <a class="code" href="nbgl__types_8h.html#a0a8ef1b5e1941b7257e545cc33405ff1a82a1f4f015ad85784e8c8671b7338433">LIGHT_GRAY</a>,                <span class="comment">// Color used for border, MANDATORY</span></div>
<div class="line">    .foregroundColor = <a class="code" href="nbgl__types_8h.html#a0a8ef1b5e1941b7257e545cc33405ff1af77fb67151d0c18d397069ad8c271ba3">BLACK</a>,                 <span class="comment">// Color used for text and/or icon, MANDATORY</span></div>
<div class="line">    .width = 128,                             <span class="comment">// Width in pixels, MANDATORY</span></div>
<div class="line">    .height = 64,                             <span class="comment">// Height in pixels, MANDATORY</span></div>
<div class="line">    .radius = 32,                             <span class="comment">// Radius of corners in pixels, can be null</span></div>
<div class="line">    .text = <span class="stringliteral">&quot;Back&quot;</span>,                           <span class="comment">// Text of the button, if NULL, only an icon</span></div>
<div class="line">    .fontId = BAGL_FONT_INTER_REGULAR_24,     <span class="comment">// Font used for text, if text is not null</span></div>
<div class="line">    .icon = &amp;<a class="code" href="nbgl__obj_8h.html#aa5c2924154124a1322d2c1bb8a1acbd0">C_leftArrow32px</a>,                 <span class="comment">// Icon of the button, if NULL, only text</span></div>
<div class="line">    .alignmentMarginX = 20,                   <span class="comment">// Horizontal margin (see layout &amp; alignment)</span></div>
<div class="line">    .alignmentMarginY = 20,                   <span class="comment">// Vertical margin (see layout &amp; alignment)</span></div>
<div class="line">    .alignment = <a class="code" href="nbgl__types_8h.html#a82db45397671e5a06f32c857ed8980c6a6b4ed010af97f067c8ba669e400f3f93">TOP_LEFT</a>,                    <span class="comment">// Type of alignment (see layout &amp; alignment)</span></div>
<div class="line">    .alignTo = NULL,                          <span class="comment">// Alignment reference, if NULL, use parent (see layout &amp; alignment)</span></div>
<div class="line">    .touchMask = (1&lt;&lt;<a class="code" href="nbgl__types_8h.html#a3740adc715354911139e2117a3722ca8a6068a25be15a840b4e7dee17cca5dcd1">VALUE_CHANGED</a>)           <span class="comment">// Types of touchscreen events that we want to receive</span></div>
<div class="line">    };</div>
<div class="ttc" id="anbgl__obj_8h_html_a95df0ebba3018a2d0eaa47d962259c4b"><div class="ttname"><a href="nbgl__obj_8h.html#a95df0ebba3018a2d0eaa47d962259c4b">nbgl_button_t</a></div><div class="ttdeci">struct PACKED__ nbgl_button_s nbgl_button_t</div><div class="ttdoc">struct to represent a button (BUTTON type) that can contain a text and/or an icon</div></div>
<div class="ttc" id="anbgl__obj_8h_html_aa5c2924154124a1322d2c1bb8a1acbd0"><div class="ttname"><a href="nbgl__obj_8h.html#aa5c2924154124a1322d2c1bb8a1acbd0">C_leftArrow32px</a></div><div class="ttdeci">#define C_leftArrow32px</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__obj_8h_source.html#l00156">nbgl_obj.h:156</a></div></div>
<div class="ttc" id="anbgl__types_8h_html_a0a8ef1b5e1941b7257e545cc33405ff1a283fc479650da98250635b9c3c0e7e50"><div class="ttname"><a href="nbgl__types_8h.html#a0a8ef1b5e1941b7257e545cc33405ff1a283fc479650da98250635b9c3c0e7e50">WHITE</a></div><div class="ttdeci">@ WHITE</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__types_8h_source.html#l00105">nbgl_types.h:105</a></div></div>
<div class="ttc" id="anbgl__types_8h_html_a0a8ef1b5e1941b7257e545cc33405ff1a82a1f4f015ad85784e8c8671b7338433"><div class="ttname"><a href="nbgl__types_8h.html#a0a8ef1b5e1941b7257e545cc33405ff1a82a1f4f015ad85784e8c8671b7338433">LIGHT_GRAY</a></div><div class="ttdeci">@ LIGHT_GRAY</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__types_8h_source.html#l00104">nbgl_types.h:104</a></div></div>
<div class="ttc" id="anbgl__types_8h_html_a0a8ef1b5e1941b7257e545cc33405ff1af77fb67151d0c18d397069ad8c271ba3"><div class="ttname"><a href="nbgl__types_8h.html#a0a8ef1b5e1941b7257e545cc33405ff1af77fb67151d0c18d397069ad8c271ba3">BLACK</a></div><div class="ttdeci">@ BLACK</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__types_8h_source.html#l00102">nbgl_types.h:102</a></div></div>
<div class="ttc" id="anbgl__types_8h_html_a3740adc715354911139e2117a3722ca8a6068a25be15a840b4e7dee17cca5dcd1"><div class="ttname"><a href="nbgl__types_8h.html#a3740adc715354911139e2117a3722ca8a6068a25be15a840b4e7dee17cca5dcd1">VALUE_CHANGED</a></div><div class="ttdeci">@ VALUE_CHANGED</div><div class="ttdoc">corresponding to a change of state of the object (indirect event)</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__types_8h_source.html#l00232">nbgl_types.h:232</a></div></div>
<div class="ttc" id="anbgl__types_8h_html_a82db45397671e5a06f32c857ed8980c6a6b4ed010af97f067c8ba669e400f3f93"><div class="ttname"><a href="nbgl__types_8h.html#a82db45397671e5a06f32c857ed8980c6a6b4ed010af97f067c8ba669e400f3f93">TOP_LEFT</a></div><div class="ttdeci">@ TOP_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__types_8h_source.html#l00142">nbgl_types.h:142</a></div></div>
<div class="ttc" id="anbgl__types_8h_html_aabda6232106281a9b84f3464fb43f8a7a7d67f007544f534278ecca3cdca12565"><div class="ttname"><a href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7a7d67f007544f534278ecca3cdca12565">BUTTON</a></div><div class="ttdeci">@ BUTTON</div><div class="ttdoc">Rounded rectangle button with icon and/or text.</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__types_8h_source.html#l00121">nbgl_types.h:121</a></div></div>
</div><!-- fragment --><p>For some types of objects (<a class="el" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7ae167e6a4547c44c68eb321881de789bd">CONTAINER</a>), the <b>children</b> field must be set with an array of pointers on <a class="el" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>, which are all the objects contained in these containers.</p>
<p>Once all your objects are defined, they shall be added as children of the main (and unique) <a class="el" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7af2a9da294a4a62d55f04725d7efbb6ac">SCREEN</a> object, which is a special container, thanks to <a class="el" href="nbgl__screen_8h.html#a099925e24b43d3f259d61e4761346507">nbgl_screenSet()</a> or <a class="el" href="nbgl__screen_8h.html#a0e468f89cce352ae660d47511ceb4936">nbgl_screenPush()</a>.</p>
<p>For example, with a static allocation of objects (not recommended, see <a class="el" href="nbgl_screens_and_objs.html#nbgl_objs_mngt">Dynamic objects management</a>):</p>
<div class="fragment"><div class="line"><a class="code" href="nbgl__obj_8h.html#a95df0ebba3018a2d0eaa47d962259c4b">nbgl_button_t</a> backButton = {</div>
<div class="line">    .type = <a class="code" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7a7d67f007544f534278ecca3cdca12565">BUTTON</a></div>
<div class="line">    <span class="comment">/*....*/</span></div>
<div class="line">};</div>
<div class="line"><a class="code" href="nbgl__obj_8h.html#a22dbdab99f6066ddc568859c036974cf">nbgl_text_area_t</a> text1 = {</div>
<div class="line">    .type = <a class="code" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7aec30c62ca37f28813573ed4f5f66804f">TEXT_AREA</a></div>
<div class="line">    <span class="comment">/*....*/</span></div>
<div class="line">};</div>
<div class="line"><a class="code" href="nbgl__obj_8h.html#a22dbdab99f6066ddc568859c036974cf">nbgl_text_area_t</a> text2 = {</div>
<div class="line">    .type = <a class="code" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7aec30c62ca37f28813573ed4f5f66804f">TEXT_AREA</a></div>
<div class="line">    <span class="comment">/*....*/</span></div>
<div class="line">};</div>
<div class="line"><a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>* containerChildren[] = {</div>
<div class="line">    (<a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>*)&amp;text1,</div>
<div class="line">    (<a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>*)&amp;text2</div>
<div class="line">};</div>
<div class="line"><span class="comment">// container containing 2 text areas</span></div>
<div class="line"><a class="code" href="nbgl__obj_8h.html#accca85b3f89995e3b9e1261a30d68972">nbgl_container_t</a> container = {</div>
<div class="line">    .type = <a class="code" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7ae167e6a4547c44c68eb321881de789bd">CONTAINER</a>,</div>
<div class="line">    .children = containerChildren,</div>
<div class="line">    .nbChildren = 2</div>
<div class="line">    <span class="comment">/*....*/</span></div>
<div class="line">};</div>
<div class="line"><span class="comment">// allocate screen 0 for 2 children</span></div>
<div class="line"><a class="code" href="nbgl__screen_8h.html#a099925e24b43d3f259d61e4761346507">nbgl_screenSet</a>(&amp;screenChildren, 2, NULL, &amp;touchCallback);</div>
<div class="line"><span class="comment">// set children of screen</span></div>
<div class="line">screenChildren[0] = (<a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>*)&amp;backButton;</div>
<div class="line">screenChildren[1] = (<a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>*)&amp;container;</div>
<div class="ttc" id="anbgl__obj_8h_html_a22dbdab99f6066ddc568859c036974cf"><div class="ttname"><a href="nbgl__obj_8h.html#a22dbdab99f6066ddc568859c036974cf">nbgl_text_area_t</a></div><div class="ttdeci">struct PACKED__ nbgl_text_area_s nbgl_text_area_t</div><div class="ttdoc">struct to represent a text area (TEXT_AREA type)</div></div>
<div class="ttc" id="anbgl__obj_8h_html_accca85b3f89995e3b9e1261a30d68972"><div class="ttname"><a href="nbgl__obj_8h.html#accca85b3f89995e3b9e1261a30d68972">nbgl_container_t</a></div><div class="ttdeci">struct PACKED__ nbgl_container_s nbgl_container_t</div><div class="ttdoc">struct to represent a container (CONTAINER type)</div></div>
<div class="ttc" id="anbgl__obj_8h_html_af579f3c2ec9b53d8a3046dcf213d856a"><div class="ttname"><a href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a></div><div class="ttdeci">struct PACKED__ nbgl_obj_s nbgl_obj_t</div><div class="ttdoc">Common structure for all graphical objects.</div></div>
<div class="ttc" id="anbgl__screen_8h_html_a099925e24b43d3f259d61e4761346507"><div class="ttname"><a href="nbgl__screen_8h.html#a099925e24b43d3f259d61e4761346507">nbgl_screenSet</a></div><div class="ttdeci">int nbgl_screenSet(nbgl_obj_t ***elements, uint8_t nbElements, const nbgl_screenTickerConfiguration_t *ticker, nbgl_touchCallback_t touchCallback)</div><div class="ttdoc">Configures the lowest layer screen. To be used by applications A nbgl_screenRedraw() can be called af...</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__screen_8c_source.html#l00225">nbgl_screen.c:225</a></div></div>
<div class="ttc" id="anbgl__types_8h_html_aabda6232106281a9b84f3464fb43f8a7ae167e6a4547c44c68eb321881de789bd"><div class="ttname"><a href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7ae167e6a4547c44c68eb321881de789bd">CONTAINER</a></div><div class="ttdeci">@ CONTAINER</div><div class="ttdoc">Empty container.</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__types_8h_source.html#l00117">nbgl_types.h:117</a></div></div>
<div class="ttc" id="anbgl__types_8h_html_aabda6232106281a9b84f3464fb43f8a7aec30c62ca37f28813573ed4f5f66804f"><div class="ttname"><a href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7aec30c62ca37f28813573ed4f5f66804f">TEXT_AREA</a></div><div class="ttdeci">@ TEXT_AREA</div><div class="ttdoc">Area to contain text line(s)</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__types_8h_source.html#l00120">nbgl_types.h:120</a></div></div>
</div><!-- fragment --><p>The same example with dynamic allocation of objects:</p>
<div class="fragment"><div class="line"><span class="comment">/* layer 0 is used (background)</span></div>
<div class="line"><span class="comment">uint8_t layer = 0;</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/* allocate layer 0 for 2 children (it also releases any objects/containers allocated previously in layer 0) */</span></div>
<div class="line"><a class="code" href="nbgl__screen_8h.html#a099925e24b43d3f259d61e4761346507">nbgl_screenSet</a>(&amp;screenChildren, 2, NULL, &amp;touchCallback);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* allocate backButton dynamically */</span></div>
<div class="line"><a class="code" href="nbgl__obj_8h.html#a95df0ebba3018a2d0eaa47d962259c4b">nbgl_button_t</a> *backButton = <a class="code" href="nbgl__obj_8h.html#aa9b0d2b1b6b0425e089d604917b5e180">nbgl_objPoolGet</a>(<a class="code" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7a7d67f007544f534278ecca3cdca12565">BUTTON</a>, layer);</div>
<div class="line"><span class="comment">/* configure backButton properties here */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* allocate text1 dynamically */</span></div>
<div class="line"><a class="code" href="nbgl__obj_8h.html#a22dbdab99f6066ddc568859c036974cf">nbgl_text_area_t</a> *text1 = (<a class="code" href="nbgl__obj_8h.html#a22dbdab99f6066ddc568859c036974cf">nbgl_text_area_t</a>*)<a class="code" href="nbgl__obj_8h.html#aa9b0d2b1b6b0425e089d604917b5e180">nbgl_objPoolGet</a>(<a class="code" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7aec30c62ca37f28813573ed4f5f66804f">TEXT_AREA</a>, layer);</div>
<div class="line"><span class="comment">/* configure text1 properties here */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* allocate text2 dynamically */</span></div>
<div class="line"><a class="code" href="nbgl__obj_8h.html#a22dbdab99f6066ddc568859c036974cf">nbgl_text_area_t</a> *text2 = (<a class="code" href="nbgl__obj_8h.html#a22dbdab99f6066ddc568859c036974cf">nbgl_text_area_t</a>*)<a class="code" href="nbgl__obj_8h.html#aa9b0d2b1b6b0425e089d604917b5e180">nbgl_objPoolGet</a>(<a class="code" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7aec30c62ca37f28813573ed4f5f66804f">TEXT_AREA</a>, layer);</div>
<div class="line"><span class="comment">/* configure text2 properties here */</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* allocate container object dynamically */</span></div>
<div class="line"><a class="code" href="nbgl__obj_8h.html#accca85b3f89995e3b9e1261a30d68972">nbgl_container_t</a> *container = (<a class="code" href="nbgl__obj_8h.html#accca85b3f89995e3b9e1261a30d68972">nbgl_container_t</a>*)<a class="code" href="nbgl__obj_8h.html#aa9b0d2b1b6b0425e089d604917b5e180">nbgl_objPoolGet</a>(<a class="code" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7ae167e6a4547c44c68eb321881de789bd">CONTAINER</a>, layer);</div>
<div class="line"><span class="comment">/* configure container properties here */</span></div>
<div class="line">container-&gt;nbChildren = 2;</div>
<div class="line">container-&gt;children = (<a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>**)<a class="code" href="nbgl__obj_8h.html#a429a47fa3698c0db865bbd72cfc4ed41">nbgl_containerPoolGet</a>(container-&gt;nbChildren, layer);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* set text areas as children of container */</span></div>
<div class="line">container-&gt;children[0] = (<a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>*)&amp;text1;</div>
<div class="line">container-&gt;children[1] = (<a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>*)&amp;text2;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* set backButton and container as children of screen */</span></div>
<div class="line">screenChildren[0] = (<a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>*)backButton;</div>
<div class="line">screenChildren[1] = (<a class="code" href="nbgl__obj_8h.html#af579f3c2ec9b53d8a3046dcf213d856a">nbgl_obj_t</a>*)container;</div>
<div class="ttc" id="anbgl__obj_8h_html_a429a47fa3698c0db865bbd72cfc4ed41"><div class="ttname"><a href="nbgl__obj_8h.html#a429a47fa3698c0db865bbd72cfc4ed41">nbgl_containerPoolGet</a></div><div class="ttdeci">nbgl_obj_t ** nbgl_containerPoolGet(uint8_t nbObjs, uint8_t layer)</div><div class="ttdoc">Gets a new container from the pool, with the given number of obj pointers.</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__obj__pool_8c_source.html#l00290">nbgl_obj_pool.c:290</a></div></div>
<div class="ttc" id="anbgl__obj_8h_html_aa9b0d2b1b6b0425e089d604917b5e180"><div class="ttname"><a href="nbgl__obj_8h.html#aa9b0d2b1b6b0425e089d604917b5e180">nbgl_objPoolGet</a></div><div class="ttdeci">nbgl_obj_t * nbgl_objPoolGet(nbgl_obj_type_t type, uint8_t layer)</div><div class="ttdoc">Gets a new graphic object from the pool, with the given type. The type field of the object is set.</div><div class="ttdef"><b>Definition:</b> <a href="nbgl__obj__pool_8c_source.html#l00164">nbgl_obj_pool.c:164</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="draw_objects"></a>
Drawing graphic objects</h2>
<p>Once defined and set as children (or sub-children) of the main <a class="el" href="nbgl__types_8h.html#aabda6232106281a9b84f3464fb43f8a7af2a9da294a4a62d55f04725d7efbb6ac">SCREEN</a>, all objects can be drawn in <b>framebuffer</b> with a simple call to <a class="el" href="nbgl__screen_8h.html#ad6821d8742004d473146aa1ca12fbbcb">nbgl_screenRedraw()</a>.</p>
<p>But if only a given object has been modified since the last redraw, for example by changing its text or its color, it can be redrawn (with all of its children and sub-children, if any) with a call to <a class="el" href="nbgl__obj_8h.html#a2ab8e03ef462a1e39312659f3b2d419f">nbgl_objDraw()</a>.</p>
<p>The only properties that should not have changed for this object are its dimensions and position.</p>
<p>Except in some specific cases, the previousObj parameter of <a class="el" href="nbgl__obj_8h.html#a2ab8e03ef462a1e39312659f3b2d419f">nbgl_objDraw()</a> can be set to NULL and computeDimensions set to false.</p>
<h2><a class="anchor" id="refresh"></a>
Refreshing screen</h2>
<p>After having drawn graphic objects in <b>framebuffer</b>, it is necessary to transfer the content of the <b>framebuffer</b> on display. This operation is called a refresh.</p>
<p>The API to do that is <a class="el" href="nbgl__obj_8h.html#a2c321e01f64784c5249e594b795bf252">nbgl_refresh()</a>.</p>
<p>It will only refresh the rectangle part of the screen having changed (with any object redrawn) since the last refresh. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
